!function(t){var i=t("#added_products"),e=i.next(),a=e.find("#finish_price");i.on("click",".remove",function(){var i=t(this).siblings(".amount_input"),e=i.parent().siblings(".price").find(".price_value");if(i.val()>1){var a=i.val(),n=t(this).parents(".added_products_item").attr("id"),d=parseInt(a)-1;i.val(d),t(this).Data(n,d,e)}}),i.on("click",".add",function(){var i=t(this).siblings(".amount_input"),e=i.parent().siblings(".price").find(".price_value"),a=i.val(),n=t(this).parents(".added_products_item").attr("id"),d=parseInt(a)+1;d||(d=1),i.val(d),t(this).Data(n,d,e)}),i.on("keyup",".amount_input",function(i){var e=t(this),a=e.parent().siblings(".price").find(".price_value"),n=i.keyCode;if("48"==n||"49"==n||"50"==n||"51"==n||"52"==n||"53"==n||"54"==n||"55"==n||"56"==n||"57"==n||"96"==n||"97"==n||"98"==n||"99"==n||"100"==n||"101"==n||"102"==n||"103"==n||"104"==n||"105"==n){var d=e.val(),p=t(this).parents(".added_products_item").attr("id"),r=parseInt(d);r||(r=1),t(this).Data(p,r,a)}}),i.on("click",".delete_product",function(){var n=t(this).parents(".added_products_item"),d=t(this).prevAll(".amount").find(".amount_input"),p=d.val(),r=parseInt(p);price_value=a.text(),id_product=n.attr("id"),n.remove(),t.ajax({url:"php/delete.php",type:"POST",data:{quantity:r,id_product:id_product,finish_price:price_value},dataType:"json",success:function(t){a.text(t.finish_price),0==t.finish_price&&(i.append('<div id="no_products">No products</div>'),i.find(".added_products_head").remove(),e.remove())}})}),t.fn.Data=function(i,e,n){t.ajax({url:"php/cart.php",type:"POST",data:{quantity:e,id_product:i},dataType:"json",success:function(t){n.text(t.price),a.text(t.finish_price)}})}}(jQuery);